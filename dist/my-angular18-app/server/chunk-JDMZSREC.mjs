import './polyfills.server.mjs';
import{a as F}from"./chunk-3OSYDLHB.mjs";import"./chunk-ALZNOHOH.mjs";import"./chunk-MJJAFQCG.mjs";import{a as D}from"./chunk-7DPT6SHR.mjs";import{C as T,D as k,i as P}from"./chunk-XI4GD5BT.mjs";import{Ea as c,Fa as p,Qa as h,Sa as x,Ua as g,Wa as C,Xa as y,Y as _,Ya as e,Za as t,_a as u,bb as w,cb as S,db as f,fa as v,ga as b,hb as i,ib as L,jb as m,lb as j,nb as I,za as E}from"./chunk-W2FOEFF4.mjs";import"./chunk-5XUXGTUW.mjs";var A=(a,l)=>l.id;function W(a,l){a&1&&(e(0,"td",24),i(1,"Loading"),t())}function M(a,l){if(a&1){let r=w();e(0,"tr")(1,"td",23),i(2),t(),e(3,"td"),u(4,"img",30),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td",31)(14,"div",32)(15,"a",33),u(16,"i",34),t(),e(17,"a",35),S("click",function(){let o=v(r).$implicit,n=f(3);return b(n.onDelete(o.id))}),u(18,"i",36),t()()()()}if(a&2){let r=l.$implicit;c(2),L(r.id),c(2),x("src",r.thumbnail_prev,E),c(2),m(" ",r.category," "),c(2),m(" ",r.title," "),c(2),m(" ",r.is_featured?"Yes":"No"," "),c(2),m(" ",r.status?"Enable":"Disable"," "),c(3),x("routerLink","/admin/posts/edit/"+r.id)}}function O(a,l){if(a&1&&C(0,M,19,7,"tr",null,A),a&2){let r=f(2);y(r.dataSource==null?null:r.dataSource.data)}}function V(a,l){if(a&1&&h(0,O,2,0),a&2){let r=f();g(r.dataSource!=null&&r.dataSource.data?0:-1)}}var G=(()=>{let l=class l{constructor(d,o,n){this.service=d,this.notification=o,this.router=n,this.loader=!1,this.dataSource={},this.options={type:"post",page:1,limit:10}}ngOnInit(){this.getList()}getList(){this.loader=!0,this.service.list(this.options).subscribe({next:d=>{this.dataSource=d.data,this.loader=!1},error:d=>{this.notification.error("Something Went Wrong"),this.loader=!1}})}handleSearch(d){let o=d.target;this.options.search=o.value,this.getList()}handlePage(d){}onDelete(d){this.loader=!0,this.service.delete(d).subscribe({next:o=>{this.notification.success(o.message),this.getList()},error:o=>{let n=o.error;n?n.errors?this.notification.error(Object.values(n.errors)[0]):this.notification.error(n.message):this.notification.error("Something Went Wrong"),this.loader=!1}})}};l.\u0275fac=function(o){return new(o||l)(p(F),p(D),p(T))},l.\u0275cmp=_({type:l,selectors:[["app-slider-list"]],standalone:!0,features:[I],decls:59,vars:4,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info","d-flex","justify-content-between","justify-content-center","align-items-center"],[1,"mb-0","text-white"],["routerLink","/admin/posts/create",1,"btn","btn-primary"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","pb-3"],[1,"text-end"],[1,"d-flex","justify-content-center","align-items-center"],["id","search","placeholder","Search",1,"form-control",3,"change"],[1,"table-responsive"],[1,"table","border","table-striped"],[1,"text-nowrap","text-truncate"],[1,"text-center"],["colspan","5",1,"text-center"],["id","example23_paginate",1,"dataTables_paginate","paging_simple_numbers","pt-3"],[1,"pagination",2,"justify-content","center"],[1,"paginate_button","page-item","active"],[1,"page-link"],[1,"paginate_button","page-item"],[2,"width","50px","height","50px",3,"src"],[1,"text-center","text-nowrap"],[1,"bt-group"],["title","Edit",1,"me-2","btn","btn-info","text-white",3,"routerLink"],[1,"icon","mdi","mdi-grease-pencil"],["title","Delete",1,"btn","btn-danger","text-white",3,"click"],[1,"icon","mdi","mdi-delete"]],template:function(o,n){if(o&1&&(e(0,"div",0)(1,"div",1)(2,"h4",2),i(3,"All Posts"),t()(),e(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),i(9,"Home"),t()(),e(10,"li",8),i(11,"Posts"),t()()()()(),e(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h4",13),i(17,"All Post List"),t(),e(18,"a",14),i(19,"Add New"),t()(),e(20,"div",15)(21,"div",16)(22,"div",17)(23,"p"),i(24),t()(),e(25,"div",18)(26,"input",19),S("change",function(N){return n.options.search=n.handleSearch(N)}),t()()(),e(27,"div",20)(28,"table",21)(29,"thead",22)(30,"tr")(31,"th",23),i(32,"#"),t(),e(33,"th",23),i(34,"Image"),t(),e(35,"th",23),i(36,"Category"),t(),e(37,"th",23),i(38,"Title"),t(),e(39,"th",23),i(40,"Featured"),t(),e(41,"th",23),i(42,"Status"),t(),e(43,"th",23),i(44,"Action"),t()()(),e(45,"tbody",22),h(46,W,2,0,"td",24)(47,V,1,1),t()(),e(48,"div",25)(49,"ul",26)(50,"li",27)(51,"a",28),i(52,"1"),t()(),e(53,"li",29)(54,"a",28),i(55,"5"),t()(),e(56,"li",29)(57,"a",28),i(58,"6"),t()()()()()()()()()),o&2){let s;c(24),j("Showing ",(s=n.dataSource==null?null:n.dataSource.from)!==null&&s!==void 0?s:0," to ",(s=n.dataSource==null?null:n.dataSource.to)!==null&&s!==void 0?s:0," of ",(s=n.dataSource==null?null:n.dataSource.total)!==null&&s!==void 0?s:0," entries"),c(22),g(n.loader?46:47)}},dependencies:[k,P],encapsulation:2});let a=l;return a})();export{G as PostListComponent};
