import{a as N}from"./chunk-RFMH2YTC.js";import{a as $}from"./chunk-KUIKE6HL.js";import{a as z}from"./chunk-73Q3L5KP.js";import"./chunk-JAQOLI4A.js";import{e as j,f as q,g as D,n as L}from"./chunk-53CZCGSV.js";import{a as K}from"./chunk-UPMV7PW5.js";import"./chunk-2HKXIZ2N.js";import{f as O,u as P}from"./chunk-57FAEB72.js";import{$a as c,Aa as a,Ba as E,Ma as V,Oa as u,Qa as k,Ra as F,Sa as A,Ta as T,Ua as o,Va as n,Wa as g,X as y,Za as w,_a as f,db as r,ea as p,fa as v,fb as m,jb as I,kb as h}from"./chunk-TL672DAF.js";import{d as C}from"./chunk-4CLCTAJ7.js";var S=()=>({height:200});function M(x,b){x&1&&(o(0,"p",10),r(1,"Loading"),n())}function R(x,b){if(x&1){let e=w();o(0,"div",35)(1,"div",21)(2,"div",22)(3,"label",23),r(4),n(),g(5,"input",43),n()(),o(6,"div",21)(7,"div",22)(8,"label",23),r(9),n(),o(10,"editor",44),f("onFocusOut",function(i){let t=p(e).$index,d=c(2);return v(d.handleEvent(i,"doc[posts]["+t+"][description]"))})("onActivate",function(i){let t=p(e).$index,d=c(2);return v(d.handleEvent(i,"doc[posts]["+t+"][description]"))}),n()()(),o(11,"button",45),r(12,"X"),n()()}if(x&2){let e=b.$implicit,l=b.$index,i=c(2);a(4),m("Title (",i.lang.lang,")"),a(),u("name","doc[posts]["+l+"][title]")("value",e.title),a(4),m("Description (",i.lang.lang,")"),a(),u("disabled",!1)("init",h(9,S))("inline",!1)("initialValue",e.description)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9")}}function W(x,b){if(x&1){let e=w();o(0,"div",11)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h4",18),r(5,"Main Heading"),n()(),o(6,"div",19)(7,"div",20)(8,"div",21)(9,"div",22)(10,"label",23),r(11),n(),g(12,"input",24),n()(),o(13,"div",21)(14,"div",22)(15,"label",23),r(16),n(),o(17,"editor",25),f("onFocusOut",function(i){p(e);let t=c();return v(t.handleEvent(i,"head[description]"))})("onActivate",function(i){p(e);let t=c();return v(t.handleEvent(i,"head[description]"))}),n()()(),o(18,"div",21)(19,"div",22)(20,"label",23),r(21),n(),g(22,"app-img-uploader",26),n()(),o(23,"div",21)(24,"div",22)(25,"label",23),r(26),n(),o(27,"editor",27),f("onFocusOut",function(i){p(e);let t=c();return v(t.handleEvent(i,"head[description2]"))})("onActivate",function(i){p(e);let t=c();return v(t.handleEvent(i,"head[description2]"))}),n()()()()()()(),o(28,"div",15)(29,"div",16)(30,"div",17)(31,"h4",18),r(32,"CLADoc: Repositorio de Publicaciones"),n()(),o(33,"div",19)(34,"div",20)(35,"div",21)(36,"div",22)(37,"label",23),r(38),n(),g(39,"input",28),n()(),o(40,"div",21)(41,"div",22)(42,"label",23),r(43),n(),o(44,"editor",29),f("onFocusOut",function(i){p(e);let t=c();return v(t.handleEvent(i,"doc[description]"))})("onActivate",function(i){p(e);let t=c();return v(t.handleEvent(i,"doc[description]"))}),n()()(),o(45,"div",21)(46,"div",22)(47,"label",23),r(48),n(),g(49,"input",30),n()(),o(50,"div",21)(51,"div",22)(52,"label",23),r(53),n(),o(54,"editor",31),f("onFocusOut",function(i){p(e);let t=c();return v(t.handleEvent(i,"doc[description2]"))})("onActivate",function(i){p(e);let t=c();return v(t.handleEvent(i,"doc[description2]"))}),n()()()(),o(55,"div",32)(56,"div",33)(57,"button",34),f("click",function(){p(e);let i=c();return v(i.add_new("doc.posts",{title:"",description:""}))}),r(58,"+"),n()()(),A(59,R,13,10,"div",35,F),n()()(),o(61,"div",15)(62,"div",16)(63,"div",17)(64,"h4",18),r(65,"Detalles de documentos"),n()(),o(66,"div",19)(67,"div",20)(68,"div",36)(69,"div",22)(70,"label",23),r(71),n(),g(72,"input",37),n()(),o(73,"div",36)(74,"div",22)(75,"label",23),r(76),n(),g(77,"input",38),n()(),o(78,"div",21)(79,"div",22)(80,"label",23),r(81),n(),o(82,"editor",39),f("onFocusOut",function(i){p(e);let t=c();return v(t.handleEvent(i,"documents[description1]"))})("onActivate",function(i){p(e);let t=c();return v(t.handleEvent(i,"documents[description1]"))}),n()()()(),o(83,"div",20)(84,"div",36)(85,"div",22)(86,"label",23),r(87),n(),g(88,"input",40),n()(),o(89,"div",36)(90,"div",22)(91,"label",23),r(92),n(),g(93,"input",41),n()(),o(94,"div",21)(95,"div",22)(96,"label",23),r(97),n(),o(98,"editor",42),f("onFocusOut",function(i){p(e);let t=c();return v(t.handleEvent(i,"documents[description2]"))})("onActivate",function(i){p(e);let t=c();return v(t.handleEvent(i,"documents[description2]"))}),n()()()()()()()()}if(x&2){let e=c();a(11),m("Title (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.head==null?null:e.data.head.title),a(4),m("Description (",e.lang.lang,")"),a(),u("disabled",!1)("inline",!1)("initialValue",e.data==null||e.data.head==null?null:e.data.head.description)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9"),a(4),m("Image (",e.lang.lang,")"),a(),u("image",e.data==null||e.data.head==null?null:e.data.head.image)("name","head[image]"),a(4),m("Description (",e.lang.lang,")"),a(),u("disabled",!1)("inline",!1)("initialValue",e.data==null||e.data.head==null?null:e.data.head.description2)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9"),a(11),m("Title (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.doc==null?null:e.data.doc.title),a(4),m("Description (",e.lang.lang,")"),a(),u("disabled",!1)("inline",!1)("init",h(51,S))("initialValue",e.data==null||e.data.doc==null?null:e.data.doc.description)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9"),a(4),m("Title (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.doc==null?null:e.data.doc.title2),a(4),m("Description (",e.lang.lang,")"),a(),u("disabled",!1)("inline",!1)("init",h(52,S))("initialValue",e.data==null||e.data.doc==null?null:e.data.doc.description2)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9"),a(5),T(e.data==null||e.data.doc==null?null:e.data.doc.posts),a(12),m("Title (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.documents==null?null:e.data.documents.title1),a(4),m("Link (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.documents==null?null:e.data.documents.link1),a(4),m("Description (",e.lang.lang,")"),a(),u("disabled",!1)("init",h(53,S))("inline",!1)("initialValue",e.data==null||e.data.documents==null?null:e.data.documents.description1)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9"),a(5),m("Title (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.documents==null?null:e.data.documents.title2),a(4),m("Link (",e.lang.lang,")"),a(),u("value",e.data==null||e.data.documents==null?null:e.data.documents.link2),a(4),m("Description (",e.lang.lang,")"),a(),u("disabled",!1)("init",h(54,S))("inline",!1)("initialValue",e.data==null||e.data.documents==null?null:e.data.documents.description2)("apiKey","k0xxzqob8133dq0xmi8vlaaxcmhpjisrkp7pmwtbdxwunkk9")}}var ee=(()=>{let b=class b{constructor(l,i,t){this.notification=l,this.lang=i,this.service=t,this.formLoader=!1,this.data={},this.init={menubar:!0,plugins:"lists link image table code help wordcount",setup:d=>{d.on("change",()=>{console.log(d.target)})}}}ngOnInit(){this.getRecord()}getRecord(){this.formLoader=!0,this.service.find("publication").subscribe({next:l=>{this.data=l.data.publication?JSON.parse(l.data.publication):{},this.formLoader=!1},error:l=>{this.formLoader=!1}})}onSubmit(l){return C(this,null,function*(){let i=l.target,t=new FormData(i),d={};t.forEach((s,_)=>{d[_]=s}),t.append("name","publication"),this.service.update(t).subscribe({next:s=>{this.getRecord(),this.notification.success(s.message)},error:s=>{let _=s.error;_?_.errors?this.notification.error(Object.values(_.errors)[0]):this.notification.error(_.message):this.notification.error("Something Went Wrong")}})})}add_new(l,i){return C(this,null,function*(){let t=l.split("."),d=this.data;for(let _=0;_<t.length-1;_++)d=d[t[_]];let s=t[t.length-1];Array.isArray(d[s])||(d[s]=[]),d[s].push(i)})}removeItem(l,i){return C(this,null,function*(){let t=l.split("."),d=this.data;for(let _=0;_<t.length-1;_++)d=d[t[_]];let s=t[t.length-1];Array.isArray(d[s])?d[s].splice(i,1):console.error(`Target ${s} is not an array.`)})}handleEvent(l,i){let t=l.editor,d=t.getElement();d.setAttribute("name",i);let s=t.getContent();d.value=s}};b.\u0275fac=function(i){return new(i||b)(E(P),E(K),E(N))},b.\u0275cmp=y({type:b,selectors:[["app-admin-settings-publication"]],standalone:!0,features:[I],decls:19,vars:1,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"],[3,"ngSubmit"],[1,"text-center"],[1,"row"],[1,"row","pb-5"],[1,"col-md-12","text-center"],["type","submit",1,"btn","btn-info","text-white"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"mb-0","text-white"],[1,"card-body"],[1,"row","pt-3"],[1,"col-md-12"],[1,"form-group"],[1,"form-label"],["name","head[title]",1,"form-control",3,"value"],["name","head[description]",3,"onFocusOut","onActivate","disabled","inline","initialValue","apiKey"],[3,"image","name"],["name","head[description2]",3,"onFocusOut","onActivate","disabled","inline","initialValue","apiKey"],["name","doc[title]",1,"form-control",3,"value"],["name","doc[description]",3,"onFocusOut","onActivate","disabled","inline","init","initialValue","apiKey"],["name","doc[title2]",1,"form-control",3,"value"],["name","doc[description2]",3,"onFocusOut","onActivate","disabled","inline","init","initialValue","apiKey"],[1,"row","pb-2"],[1,"col-12","text-center"],["type","button",1,"btn","btn-success","text-white",3,"click"],[1,"row","mb-4","px-3","py-3","border","box-seprator"],[1,"col-md-6"],["name","documents[title1]",1,"form-control",3,"value"],["name","documents[link1]",1,"form-control",3,"value"],["name","documents[description1]",3,"onFocusOut","onActivate","disabled","init","inline","initialValue","apiKey"],["name","documents[title2]",1,"form-control",3,"value"],["name","documents[link2]",1,"form-control",3,"value"],["name","documents[description2]",3,"onFocusOut","onActivate","disabled","init","inline","initialValue","apiKey"],[1,"form-control",3,"name","value"],[3,"onFocusOut","onActivate","disabled","init","inline","initialValue","apiKey"],["type","button",1,"delete_btn","btn","btn-danger"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"h4",2),r(3,"Investigaci\xF3n y documentos"),n()(),o(4,"div",3)(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),r(9,"Admin"),n()(),o(10,"li",8),r(11,"Investigaci\xF3n y documentos"),n()()()()(),o(12,"form",9),f("ngSubmit",function(s){return t.onSubmit(s)}),V(13,M,2,0,"p",10)(14,W,99,55,"div",11),o(15,"div",12)(16,"div",13)(17,"button",14),r(18,"Submit"),n()()()()),i&2&&(a(13),k(t.formLoader?13:14))},dependencies:[O,L,D,j,q,z,$],encapsulation:2});let x=b;return x})();export{ee as SettingPublicationComponent};
