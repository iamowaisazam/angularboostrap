import{g as p,h as l,j as f,p as u,s as m,t as d}from"./chunk-57FAEB72.js";import{P as h,U as r,ra as c}from"./chunk-TL672DAF.js";import{d as s}from"./chunk-4CLCTAJ7.js";var C=(()=>{let e=class e{constructor(t,i,o,a){this.platformId=t,this.http=i,this.router=o,this.appService=a,this.apiUrl=m.apiUrl,this.token=null,this.auth=!1}register(t,i,o){let a=`${this.apiUrl}/api/admin/auth/register`,g={fullname:t,email:i,password:o};return this.http.post(a,g,{headers:new l({"Content-Type":"application/json"})})}login(t,i){let o=`${this.apiUrl}/api/admin/auth/login`,a={email:t,password:i};return this.http.post(o,a,{headers:new l({"Content-Type":"application/json"})})}isAuthenticated(){return p(this.platformId)?!!localStorage.getItem("token"):!1}setAuth(){return s(this,null,function*(){if(p(this.platformId)){let t=yield localStorage.getItem("token");t?(this.token=t,this.auth=!0):(this.token=null,this.auth=!1)}})}logout(){return s(this,null,function*(){this.appService.apploading=!0,(yield localStorage.getItem("token"))?(localStorage.removeItem("token"),this.token=null,this.auth=!1,this.appService.apploading=!1):(this.token=null,this.auth=!1,this.appService.apploading=!1)})}};e.\u0275fac=function(i){return new(i||e)(r(c),r(f),r(u),r(d))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{C as a};
